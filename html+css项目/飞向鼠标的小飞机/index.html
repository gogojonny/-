<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
  <title>飞向鼠标的小飞机</title>

</head>

<body>
  <div id="plane">
    <i class="fa fa-paper-plane " aria-hidden="true"></i>
  </div>
  <script>
    let plane = document.getElementById("plane")
    let ex = 0, ey = 0, deg = 0; count = 0, vx = 0, vy = 0;
    window.addEventListener("mousemove", (e) => {
      // console.log(plane.clientHeight);
      // console.log(plane.clientWidth);
      // console.log(plane.offsetTop);
      // console.log(plane.offsetLeft);
      // console.log(e.x,e.y);
      ex = e.x - plane.offsetLeft - plane.clientWidth / 2;
      ey = e.y - plane.offsetTop - plane.clientHeight / 2;
      deg = 360 * Math.atan(ey / ex) / (2 * Math.PI) + 45;
      // x=e.x
      // y=e.y
      //让图片跟随鼠标旋转的神级公式
      if (ex < 0) {
        deg += 180;
      }
      count = 0;
    })
    function draw() {
      plane.style.transform = 'rotate(' + deg + 'deg)';

      if (count < 100) {
        vx += ex / 100
        vy += ey / 100
      }

      console.log(vx, vy);

      plane.style.left = vx + "px";
      plane.style.top = vy + "px";
      // let x = window.x
      // let y = window.y
      // console.log(x,y);
      // plane.style.transform = 'translate(' + x + 'px,' + y + 'px)'

      // console.log(deg);
      count++;

    }
    setInterval(draw, 1)
    // draw();
  </script>

</body>

</html>